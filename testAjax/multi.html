<!doctpye html>

<html>
	<head>
		<script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
	</head>
	<body>
		<button onclick="sendAjaxRequest()" > send ajax request </button>
	</body>
	
	
	<script>
		function ajaxCallWithCallBack(urlLink, dataObj, asynch, errTxt){
				$.ajax({
					type:"post",
					url: urlLink,
					cache: true,
					data: JSON.stringify(dataObj),
					
					
					
					
					dataType: "json",
					async: asynch,
				//	header:{"Authorization": 'Bearer ' +"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0NjM1ODUxMzMsImp0aSI6InVnejk4MzlYaUp3b214UEVcLzVJYWV5THZPZ1ZrRTI4bGlUMmZUak5ZUFo0PSIsImlzcyI6Ind3dy5mb290b3Zpc2lvbi5jb20iLCJuYmYiOjE0NjM1ODUxNDMsImV4cCI6MTQ2MzU4NTIwMywiZGF0YSI6eyJ1c2VyTmFtZSI6Im5uIiwidXNlcklkIjpudWxsLCJnYW1lTGlzdCI6bnVsbH19.abdQuODg6_KFqIlXu_TNgAwmnrFF7Ee4m4U_D2bUJM4"
				//				},
					
					beforeSend: function (request)
					{
						request.headers = request.headers || {};
						if (localStorage.getItem("ngStorage-token")) {
							//request.headers.Authorization = 'Bearer ' + $localStorage.token;
							$localtoken=localStorage.getItem("ngStorage-token");
							$oneToken =$localtoken.replace(/[""']/g, "");
							//$noToken =$oneToken.replace(/["']/g, "");
							request.setRequestHeader("Authorization", 'Bearer ' +$oneToken);
						}else {
							request.setRequestHeader("Authorization", 'Bearer ' +"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0NjM3NDg5NzAsImp0aSI6ImIyRHFlNFhCbFlEZFBtVlFBWnNuKzVcL1lGTGJpRVRUUVphUWkyRkZMcFFVPSIsImlzcyI6Ind3dy5mb290b3Zpc2lvbi5jb20iLCJuYmYiOjE0NjM3NDg5NzAsImV4cCI6MTQ2Mzc0OTU3MCwiZGF0YSI6eyJ1c2VyTmFtZSI6IkRTRkFTIiwidXNlcklkIjpudWxsLCJnYW1lTGlzdCI6bnVsbH19.m1P1vedXfSEAz-XNH4DpmQ7c_I1nDBDRkklaReQjlC8"
								);
							}
						return request;
						
					},
					
					contentType: "application/json; charset=utf-8",
					success: function(result) {
						//callback(result);
						alert("get information success");
					},
					error : function(a, b, c, d) {
						//errCallBack(errTxt);
						alert("login faild, please login first");
					}
				});
			}
			
		var url="http://localhost/footovision/private/php/centralRequestHandle.php";
		
		var allteams={'allteams' : 1,'realUrl':"multiGameDetailsLoader"};
		var data ={'teamid':2,'realUrl':"multiGameDetailsLoader"};
		var dataObj={'playerId' : 513, 'gameId' : 5, 'ht' : 0 ,
                     'startFrame' : 0, 'endFrame' : 90000, 
					 'playerPos' : true, 'ballDrive' : false,
					 'nbFrames' : 10,
					 'realUrl':"multiGameDetailsLoader"};
		
		function sendAjaxRequest(){
			alert("button click");
			ajaxCallWithCallBack(url,allteams,true);
		}
		
		
		
	</script>
</html>